$(document).ready(function(){function e(e){$("#moddata").DataTable({iDisplayLength:10,lengthMenu:[[10,30,50,-1],[10,30,50,"All"]],destroy:!0,scrollY:"300px",scrollX:"100%",paging:!1,ajax:{url:"AcctData/"+e+".json"},dom:"ltip",columnDefs:[{targets:[16],visible:!1,searchable:!1}],columns:[{data:"Equipped",width:"90px"},{data:"Slot"},{data:"Set",width:"40px"},{data:"Primary"},{data:"Spd",defaultContent:""},{data:"Crit%",defaultContent:""},{data:"Off",defaultContent:""},{data:"Off%",defaultContent:""},{data:"Prot",defaultContent:""},{data:"Prot%",defaultContent:""},{data:"HP",defaultContent:""},{data:"HP%",defaultContent:""},{data:"Def",defaultContent:""},{data:"Def%",defaultContent:""},{data:"Pot%",defaultContent:""},{data:"Ten%",defaultContent:""},{data:"Assigned",defaultContent:""}],rowCallback:function(e,s,t){""==s.Assigned?$("td",e).css("background-color",""):"1st"==s.Assigned?$("td",e).css("background-color","lightblue"):"2nd"==s.Assigned?$("td",e).css("background-color","rgba(144, 238, 144, 0.788)"):"3rd"==s.Assigned?$("td",e).css("background-color","rgba(255, 166, 0, 0.850)"):"4th"==s.Assigned?$("td",e).css("background-color","rgba(189, 96, 189, 0.788)"):"5th"==s.Assigned&&$("td",e).css("background-color","rgba(245, 245, 113, 0.780)")}}),$(".dataTables_scrollFootInner srch").each(function(){var e=$(this).text();$(this).html('<input type="text" placeholder="'+e+'" />')});var s=$("#moddata").DataTable();s.columns().every(function(){var e=this;$("input",this.footer()).on("keyup change",function(){e.search(this.value,!0,!1),DTRedraw()})}),$(".dataTable").on("click","tbody tr",function(){id=$("input[name='modset']:checked").val(),modArray=[],modArray.push(s.row(this).data()),redraw(modArray,id),CalcTotals(id),$("#squadMembr"+id+" .assigned tbody").css("display","table-row-group"),$("[id^=hideShow"+id).attr("value","Hide"),recolorSngl(modArray[0].Equipped,id,modArray[0].Slot),DTRedraw()})}for(var s=[],t=[],r=[],n=[],o="",i=0;i<5;i++){t.push(document.createElement("input")),$(t[i]).attr({id:"membrName"+i,type:"text",placeholder:"Find Mods Equipped by:"}),r.push(document.createElement("input")),$(r[i]).attr({id:"hideShow"+i,class:"tblBtns",value:"Hide",type:"button"}),n.push(document.createElement("input")),$(n[i]).attr({id:"clrBtn"+i,class:"tblBtns",value:"Clear",type:"button"}),s.push(document.createElement("table")),$(s[i]).attr({class:"assigned",width:"1250px","border-collapse":"collapse"}),s[i].appendChild(document.createElement("colgroup")),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Equipped"),s[i].lastChild.lastChild.setAttribute("width","225px"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Slot"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Set"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Primary"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Spd"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Crit%"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Off"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Off%"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Prot"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Prot%"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","HP"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","HP%"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Def"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Def%"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Pot%"),s[i].lastChild.appendChild(document.createElement("col")).setAttribute("id","Ten%"),s[i].createTHead(),s[i].tHead.insertRow(),s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Equipped",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Slot",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Set",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Primary",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Spd",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Crit%",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Off",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Off%",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Prot",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Prot%",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="HP",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="HP%",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Def",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Def%",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Pot%",s[i].tHead.rows[0].appendChild(document.createElement("th")).innerText="Ten%",s[i].createTBody();for(var l=0;l<6;l++){s[i].tBodies[0].insertRow();for(var d=0;d<16;d++)s[i].tBodies[0].rows[l].insertCell()}s[i].createTFoot(),s[i].tFoot.insertRow(),s[i].tFoot.rows[0].appendChild(document.createElement("th")),s[i].tFoot.rows[0].appendChild(document.createElement("th")),s[i].tFoot.rows[0].appendChild(document.createElement("th")),s[i].tFoot.rows[0].appendChild(document.createElement("th")).innerText="Totals";for(var a=0;a<12;a++)s[i].tFoot.rows[0].appendChild(document.createElement("th")).innerHTML=0;var c=document.createElement("div");c.appendChild(t[i]),c.innerHTML+="<b> Squad Member "+(i+1)+"</b>",c.appendChild(n[i]),c.appendChild(r[i]),document.getElementById("squadMembr"+i).appendChild(c);var w=document.createElement("div");$(w).attr({class:"colorTbl",id:"modSet"+i}),w.appendChild(s[i]),document.getElementById("squadMembr"+i).appendChild(w)}convertJSON=function(){$.getJSON("https://swgoh.gg/api/players/896282714/mods/",$.ajax({dataType:"json",url:"https://swgoh.gg/api/players/896282714/mods/",headers:{"Access-Control-Allow-Origin":"*"},success:function(e){var s=[];$.each(e.mods,function(t){var r={};switch(r.Equipped=e.mods[t].character,e.mods[t].slot){case 1:r.Slot="Square";break;case 2:r.Slot="Arrow";break;case 3:r.Slot="Diamond";break;case 4:r.Slot="Triangle";break;case 5:r.Slot="Circle";break;case 6:r.Slot="Cross"}switch(e.mods[t].set){case 1:r.Set="Health";break;case 2:r.Set="Offense";break;case 3:r.Set="Defense";break;case 4:r.Set="Speed";break;case 5:r.Set="Critical Chance";break;case 6:r.Set="Critical Damage";break;case 7:r.Set="Potency";break;case 8:r.Set="Tenacity"}r.Primary=e.mods[t].primary_stat.name,$.each(e.mods[t].secondary_stats,function(s){switch(e.mods[t].secondary_stats[s].name){case"Health":e.mods[t].secondary_stats[s].display_value.includes("%")?r["HP%"]=e.mods[t].secondary_stats[s].display_value:r.HP=e.mods[t].secondary_stats[s].display_value;break;case"Protection":e.mods[t].secondary_stats[s].display_value.includes("%")?r["Prot%"]=e.mods[t].secondary_stats[s].display_value:r.Prot=e.mods[t].secondary_stats[s].display_value;break;case"Offense":e.mods[t].secondary_stats[s].display_value.includes("%")?r["Off%"]=e.mods[t].secondary_stats[s].display_value:r.Off=e.mods[t].secondary_stats[s].display_value;break;case"Defense":e.mods[t].secondary_stats[s].display_value.includes("%")?r["Def%"]=e.mods[t].secondary_stats[s].display_value:r.Def=e.mods[t].secondary_stats[s].display_value;break;case"Speed":r.Spd=e.mods[t].secondary_stats[s].display_value;break;case"Critical Chance":r["Crit%"]=e.mods[t].secondary_stats[s].display_value;break;case"Potency":r["Pot%"]=e.mods[t].secondary_stats[s].display_value;break;case"Tenacity":r["Ten%"]=e.mods[t].secondary_stats[s].display_value}}),r.Assigned="",s.push(r)});var t=JSON.stringify(s);console.log(t)}}))},$("#srchForm").submit(function(s){s.preventDefault(),srchstring=$("#searchStr").val(),o="AcctData/"+srchstring+".json";var t=RegExp(/^[0-9]{9}$/);t.test(srchstring)?$.getJSON("AcctData/"+srchstring+".json",function(s){$(".dtWrap").css("display","block"),$(".assignBtnWrap").css("display","block"),e(srchstring);var t=[];for(var r in s.data)-1===$.inArray(s.data[r].Equipped,t)&&t.push(s.data[r].Equipped);$("[id^=membrName").autocomplete({source:t})}).fail(function(e){alert("No data detected:\n\nPlease wait a moment and try again."),$.ajax({url:"http://swgoh.win:3000/api?player="+srchstring,type:"GET",success:function(e){},error:function(e){}})}):alert('Please enter your 9 digit "Ally code"\n\nIt can be found at the bottom of your player screen in game.')}),$("#updateForm").submit(function(e){e.preventDefault(),srchstring=$("#updateStr").val();var s=RegExp(/^[0-9]{9}$/);s.test(srchstring)?(alert("Updating Data from swgoh.gg"),$.ajax({url:"http://swgoh.win:3000/api?player="+srchstring,type:"POST",success:function(e){alert("Update Complete")},error:function(e){}})):alert('Please enter your 9 digit "Ally code"\n\nIt can be found at the bottom of your player screen in game.')}),$("[id^=membrName").on("autocompleteclose",function(){var e=this.value,s=this.id.slice(-1);$.getJSON(o,function(t){var r=[];if(null==t)console.log("no datafile");else for(var n in t.data)r=$.grep(t.data,function(s){return s.Equipped==e});autocompRedraw(r,s),CalcTotals(s),$("#squadMembr"+s+" .assigned tbody").css("display","table-row-group"),$("[id^=hideShow"+s).attr("value","Hide"),recolor(e,s),DTRedraw()})}),DTRedraw=function(){var e=$(".dataTables_scrollBody").scrollTop();$("#moddata").DataTable().rows().invalidate().draw(!1),$(".dataTables_scrollBody").scrollTop(e)},redraw=function(e,t){for(var r=0;r<e.length;r++)"Square"==e[r].Slot?(s[t].tBodies[0].rows[0].cells[0].innerHTML=e[r].Equipped,s[t].tBodies[0].rows[0].cells[1].innerHTML=e[r].Slot,s[t].tBodies[0].rows[0].cells[2].innerHTML=e[r].Set,s[t].tBodies[0].rows[0].cells[3].innerHTML=e[r].Primary,e[r].hasOwnProperty("Spd")?s[t].tBodies[0].rows[0].cells[4].innerHTML=e[r].Spd:s[t].tBodies[0].rows[0].cells[4].innerHTML="",e[r].hasOwnProperty("Crit%")?s[t].tBodies[0].rows[0].cells[5].innerHTML=e[r]["Crit%"]:s[t].tBodies[0].rows[0].cells[5].innerHTML="",e[r].hasOwnProperty("Off")?s[t].tBodies[0].rows[0].cells[6].innerHTML=e[r].Off:s[t].tBodies[0].rows[0].cells[6].innerHTML="",e[r].hasOwnProperty("Off%")?s[t].tBodies[0].rows[0].cells[7].innerHTML=e[r]["Off%"]:s[t].tBodies[0].rows[0].cells[7].innerHTML="",e[r].hasOwnProperty("Prot")?s[t].tBodies[0].rows[0].cells[8].innerHTML=e[r].Prot:s[t].tBodies[0].rows[0].cells[8].innerHTML="",e[r].hasOwnProperty("Prot%")?s[t].tBodies[0].rows[0].cells[9].innerHTML=e[r]["Prot%"]:s[t].tBodies[0].rows[0].cells[9].innerHTML="",e[r].hasOwnProperty("HP")?s[t].tBodies[0].rows[0].cells[10].innerHTML=e[r].HP:s[t].tBodies[0].rows[0].cells[10].innerHTML="",e[r].hasOwnProperty("HP%")?s[t].tBodies[0].rows[0].cells[11].innerHTML=e[r]["HP%"]:s[t].tBodies[0].rows[0].cells[11].innerHTML="",e[r].hasOwnProperty("Def")?s[t].tBodies[0].rows[0].cells[12].innerHTML=e[r].Def:s[t].tBodies[0].rows[0].cells[12].innerHTML="",e[r].hasOwnProperty("Def%")?s[t].tBodies[0].rows[0].cells[13].innerHTML=e[r]["Def%"]:s[t].tBodies[0].rows[0].cells[13].innerHTML="",e[r].hasOwnProperty("Pot%")?s[t].tBodies[0].rows[0].cells[14].innerHTML=e[r]["Pot%"]:s[t].tBodies[0].rows[0].cells[14].innerHTML="",e[r].hasOwnProperty("Ten%")?s[t].tBodies[0].rows[0].cells[15].innerHTML=e[r]["Ten%"]:s[t].tBodies[0].rows[0].cells[15].innerHTML=""):"Arrow"==e[r].Slot?(s[t].tBodies[0].rows[1].cells[0].innerHTML=e[r].Equipped,s[t].tBodies[0].rows[1].cells[1].innerHTML=e[r].Slot,s[t].tBodies[0].rows[1].cells[2].innerHTML=e[r].Set,s[t].tBodies[0].rows[1].cells[3].innerHTML=e[r].Primary,e[r].hasOwnProperty("Spd")?s[t].tBodies[0].rows[1].cells[4].innerHTML=e[r].Spd:s[t].tBodies[0].rows[1].cells[4].innerHTML="",e[r].hasOwnProperty("Crit%")?s[t].tBodies[0].rows[1].cells[5].innerHTML=e[r]["Crit%"]:s[t].tBodies[0].rows[1].cells[5].innerHTML="",e[r].hasOwnProperty("Off")?s[t].tBodies[0].rows[1].cells[6].innerHTML=e[r].Off:s[t].tBodies[0].rows[1].cells[6].innerHTML="",e[r].hasOwnProperty("Off%")?s[t].tBodies[0].rows[1].cells[7].innerHTML=e[r]["Off%"]:s[t].tBodies[0].rows[1].cells[7].innerHTML="",e[r].hasOwnProperty("Prot")?s[t].tBodies[0].rows[1].cells[8].innerHTML=e[r].Prot:s[t].tBodies[0].rows[1].cells[8].innerHTML="",e[r].hasOwnProperty("Prot%")?s[t].tBodies[0].rows[1].cells[9].innerHTML=e[r]["Prot%"]:s[t].tBodies[0].rows[1].cells[9].innerHTML="",e[r].hasOwnProperty("HP")?s[t].tBodies[0].rows[1].cells[10].innerHTML=e[r].HP:s[t].tBodies[0].rows[1].cells[10].innerHTML="",e[r].hasOwnProperty("HP%")?s[t].tBodies[0].rows[1].cells[11].innerHTML=e[r]["HP%"]:s[t].tBodies[0].rows[1].cells[11].innerHTML="",e[r].hasOwnProperty("Def")?s[t].tBodies[0].rows[1].cells[12].innerHTML=e[r].Def:s[t].tBodies[0].rows[1].cells[12].innerHTML="",e[r].hasOwnProperty("Def%")?s[t].tBodies[0].rows[1].cells[13].innerHTML=e[r]["Def%"]:s[t].tBodies[0].rows[1].cells[13].innerHTML="",e[r].hasOwnProperty("Pot%")?s[t].tBodies[0].rows[1].cells[14].innerHTML=e[r]["Pot%"]:s[t].tBodies[0].rows[1].cells[14].innerHTML="",e[r].hasOwnProperty("Ten%")?s[t].tBodies[0].rows[1].cells[15].innerHTML=e[r]["Ten%"]:s[t].tBodies[0].rows[1].cells[15].innerHTML=""):"Diamond"==e[r].Slot?(s[t].tBodies[0].rows[2].cells[0].innerHTML=e[r].Equipped,s[t].tBodies[0].rows[2].cells[1].innerHTML=e[r].Slot,s[t].tBodies[0].rows[2].cells[2].innerHTML=e[r].Set,s[t].tBodies[0].rows[2].cells[3].innerHTML=e[r].Primary,e[r].hasOwnProperty("Spd")?s[t].tBodies[0].rows[2].cells[4].innerHTML=e[r].Spd:s[t].tBodies[0].rows[2].cells[4].innerHTML="",e[r].hasOwnProperty("Crit%")?s[t].tBodies[0].rows[2].cells[5].innerHTML=e[r]["Crit%"]:s[t].tBodies[0].rows[2].cells[5].innerHTML="",e[r].hasOwnProperty("Off")?s[t].tBodies[0].rows[2].cells[6].innerHTML=e[r].Off:s[t].tBodies[0].rows[2].cells[6].innerHTML="",e[r].hasOwnProperty("Off%")?s[t].tBodies[0].rows[2].cells[7].innerHTML=e[r]["Off%"]:s[t].tBodies[0].rows[2].cells[7].innerHTML="",e[r].hasOwnProperty("Prot")?s[t].tBodies[0].rows[2].cells[8].innerHTML=e[r].Prot:s[t].tBodies[0].rows[2].cells[8].innerHTML="",e[r].hasOwnProperty("Prot%")?s[t].tBodies[0].rows[2].cells[9].innerHTML=e[r]["Prot%"]:s[t].tBodies[0].rows[2].cells[9].innerHTML="",e[r].hasOwnProperty("HP")?s[t].tBodies[0].rows[2].cells[10].innerHTML=e[r].HP:s[t].tBodies[0].rows[2].cells[10].innerHTML="",e[r].hasOwnProperty("HP%")?s[t].tBodies[0].rows[2].cells[11].innerHTML=e[r]["HP%"]:s[t].tBodies[0].rows[2].cells[11].innerHTML="",e[r].hasOwnProperty("Def")?s[t].tBodies[0].rows[2].cells[12].innerHTML=e[r].Def:s[t].tBodies[0].rows[2].cells[12].innerHTML="",e[r].hasOwnProperty("Def%")?s[t].tBodies[0].rows[2].cells[13].innerHTML=e[r]["Def%"]:s[t].tBodies[0].rows[2].cells[13].innerHTML="",e[r].hasOwnProperty("Pot%")?s[t].tBodies[0].rows[2].cells[14].innerHTML=e[r]["Pot%"]:s[t].tBodies[0].rows[2].cells[14].innerHTML="",e[r].hasOwnProperty("Ten%")?s[t].tBodies[0].rows[2].cells[15].innerHTML=e[r]["Ten%"]:s[t].tBodies[0].rows[2].cells[15].innerHTML=""):"Triangle"==e[r].Slot?(s[t].tBodies[0].rows[3].cells[0].innerHTML=e[r].Equipped,s[t].tBodies[0].rows[3].cells[1].innerHTML=e[r].Slot,s[t].tBodies[0].rows[3].cells[2].innerHTML=e[r].Set,s[t].tBodies[0].rows[3].cells[3].innerHTML=e[r].Primary,e[r].hasOwnProperty("Spd")?s[t].tBodies[0].rows[3].cells[4].innerHTML=e[r].Spd:s[t].tBodies[0].rows[3].cells[4].innerHTML="",e[r].hasOwnProperty("Crit%")?s[t].tBodies[0].rows[3].cells[5].innerHTML=e[r]["Crit%"]:s[t].tBodies[0].rows[3].cells[5].innerHTML="",e[r].hasOwnProperty("Off")?s[t].tBodies[0].rows[3].cells[6].innerHTML=e[r].Off:s[t].tBodies[0].rows[3].cells[6].innerHTML="",e[r].hasOwnProperty("Off%")?s[t].tBodies[0].rows[3].cells[7].innerHTML=e[r]["Off%"]:s[t].tBodies[0].rows[3].cells[7].innerHTML="",e[r].hasOwnProperty("Prot")?s[t].tBodies[0].rows[3].cells[8].innerHTML=e[r].Prot:s[t].tBodies[0].rows[3].cells[8].innerHTML="",e[r].hasOwnProperty("Prot%")?s[t].tBodies[0].rows[3].cells[9].innerHTML=e[r]["Prot%"]:s[t].tBodies[0].rows[3].cells[9].innerHTML="",e[r].hasOwnProperty("HP")?s[t].tBodies[0].rows[3].cells[10].innerHTML=e[r].HP:s[t].tBodies[0].rows[3].cells[10].innerHTML="",e[r].hasOwnProperty("HP%")?s[t].tBodies[0].rows[3].cells[11].innerHTML=e[r]["HP%"]:s[t].tBodies[0].rows[3].cells[11].innerHTML="",e[r].hasOwnProperty("Def")?s[t].tBodies[0].rows[3].cells[12].innerHTML=e[r].Def:s[t].tBodies[0].rows[3].cells[12].innerHTML="",e[r].hasOwnProperty("Def%")?s[t].tBodies[0].rows[3].cells[13].innerHTML=e[r]["Def%"]:s[t].tBodies[0].rows[3].cells[13].innerHTML="",e[r].hasOwnProperty("Pot%")?s[t].tBodies[0].rows[3].cells[14].innerHTML=e[r]["Pot%"]:s[t].tBodies[0].rows[3].cells[14].innerHTML="",e[r].hasOwnProperty("Ten%")?s[t].tBodies[0].rows[3].cells[15].innerHTML=e[r]["Ten%"]:s[t].tBodies[0].rows[3].cells[15].innerHTML=""):"Circle"==e[r].Slot?(s[t].tBodies[0].rows[4].cells[0].innerHTML=e[r].Equipped,s[t].tBodies[0].rows[4].cells[1].innerHTML=e[r].Slot,s[t].tBodies[0].rows[4].cells[2].innerHTML=e[r].Set,s[t].tBodies[0].rows[4].cells[3].innerHTML=e[r].Primary,e[r].hasOwnProperty("Spd")?s[t].tBodies[0].rows[4].cells[4].innerHTML=e[r].Spd:s[t].tBodies[0].rows[4].cells[4].innerHTML="",e[r].hasOwnProperty("Crit%")?s[t].tBodies[0].rows[4].cells[5].innerHTML=e[r]["Crit%"]:s[t].tBodies[0].rows[4].cells[5].innerHTML="",e[r].hasOwnProperty("Off")?s[t].tBodies[0].rows[4].cells[6].innerHTML=e[r].Off:s[t].tBodies[0].rows[4].cells[6].innerHTML="",e[r].hasOwnProperty("Off%")?s[t].tBodies[0].rows[4].cells[7].innerHTML=e[r]["Off%"]:s[t].tBodies[0].rows[4].cells[7].innerHTML="",e[r].hasOwnProperty("Prot")?s[t].tBodies[0].rows[4].cells[8].innerHTML=e[r].Prot:s[t].tBodies[0].rows[4].cells[8].innerHTML="",e[r].hasOwnProperty("Prot%")?s[t].tBodies[0].rows[4].cells[9].innerHTML=e[r]["Prot%"]:s[t].tBodies[0].rows[4].cells[9].innerHTML="",e[r].hasOwnProperty("HP")?s[t].tBodies[0].rows[4].cells[10].innerHTML=e[r].HP:s[t].tBodies[0].rows[4].cells[10].innerHTML="",e[r].hasOwnProperty("HP%")?s[t].tBodies[0].rows[4].cells[11].innerHTML=e[r]["HP%"]:s[t].tBodies[0].rows[4].cells[11].innerHTML="",e[r].hasOwnProperty("Def")?s[t].tBodies[0].rows[4].cells[12].innerHTML=e[r].Def:s[t].tBodies[0].rows[4].cells[12].innerHTML="",e[r].hasOwnProperty("Def%")?s[t].tBodies[0].rows[4].cells[13].innerHTML=e[r]["Def%"]:s[t].tBodies[0].rows[4].cells[13].innerHTML="",e[r].hasOwnProperty("Pot%")?s[t].tBodies[0].rows[4].cells[14].innerHTML=e[r]["Pot%"]:s[t].tBodies[0].rows[4].cells[14].innerHTML="",e[r].hasOwnProperty("Ten%")?s[t].tBodies[0].rows[4].cells[15].innerHTML=e[r]["Ten%"]:s[t].tBodies[0].rows[4].cells[15].innerHTML=""):"Cross"==e[r].Slot&&(s[t].tBodies[0].rows[5].cells[0].innerHTML=e[r].Equipped,s[t].tBodies[0].rows[5].cells[1].innerHTML=e[r].Slot,s[t].tBodies[0].rows[5].cells[2].innerHTML=e[r].Set,s[t].tBodies[0].rows[5].cells[3].innerHTML=e[r].Primary,e[r].hasOwnProperty("Spd")?s[t].tBodies[0].rows[5].cells[4].innerHTML=e[r].Spd:s[t].tBodies[0].rows[5].cells[4].innerHTML="",e[r].hasOwnProperty("Crit%")?s[t].tBodies[0].rows[5].cells[5].innerHTML=e[r]["Crit%"]:s[t].tBodies[0].rows[5].cells[5].innerHTML="",e[r].hasOwnProperty("Off")?s[t].tBodies[0].rows[5].cells[6].innerHTML=e[r].Off:s[t].tBodies[0].rows[5].cells[6].innerHTML="",e[r].hasOwnProperty("Off%")?s[t].tBodies[0].rows[5].cells[7].innerHTML=e[r]["Off%"]:s[t].tBodies[0].rows[5].cells[7].innerHTML="",e[r].hasOwnProperty("Prot")?s[t].tBodies[0].rows[5].cells[8].innerHTML=e[r].Prot:s[t].tBodies[0].rows[5].cells[8].innerHTML="",e[r].hasOwnProperty("Prot%")?s[t].tBodies[0].rows[5].cells[9].innerHTML=e[r]["Prot%"]:s[t].tBodies[0].rows[5].cells[9].innerHTML="",e[r].hasOwnProperty("HP")?s[t].tBodies[0].rows[5].cells[10].innerHTML=e[r].HP:s[t].tBodies[0].rows[5].cells[10].innerHTML="",e[r].hasOwnProperty("HP%")?s[t].tBodies[0].rows[5].cells[11].innerHTML=e[r]["HP%"]:s[t].tBodies[0].rows[5].cells[11].innerHTML="",e[r].hasOwnProperty("Def")?s[t].tBodies[0].rows[5].cells[12].innerHTML=e[r].Def:s[t].tBodies[0].rows[5].cells[12].innerHTML="",e[r].hasOwnProperty("Def%")?s[t].tBodies[0].rows[5].cells[13].innerHTML=e[r]["Def%"]:s[t].tBodies[0].rows[5].cells[13].innerHTML="",e[r].hasOwnProperty("Pot%")?s[t].tBodies[0].rows[5].cells[14].innerHTML=e[r]["Pot%"]:s[t].tBodies[0].rows[5].cells[14].innerHTML="",e[r].hasOwnProperty("Ten%")?s[t].tBodies[0].rows[5].cells[15].innerHTML=e[r]["Ten%"]:s[t].tBodies[0].rows[5].cells[15].innerHTML="")},autocompRedraw=function(e,t){var r=0,n=0,o=0,i=0,l=0,d=0;if("nul"==e)s[t].tBodies[0].rows[0].cells[0].innerHTML="",s[t].tBodies[0].rows[0].cells[1].innerHTML="",s[t].tBodies[0].rows[0].cells[2].innerHTML="",s[t].tBodies[0].rows[0].cells[3].innerHTML="",s[t].tBodies[0].rows[0].cells[4].innerHTML="",s[t].tBodies[0].rows[0].cells[5].innerHTML="",s[t].tBodies[0].rows[0].cells[6].innerHTML="",s[t].tBodies[0].rows[0].cells[7].innerHTML="",s[t].tBodies[0].rows[0].cells[8].innerHTML="",s[t].tBodies[0].rows[0].cells[9].innerHTML="",s[t].tBodies[0].rows[0].cells[10].innerHTML="",s[t].tBodies[0].rows[0].cells[11].innerHTML="",s[t].tBodies[0].rows[0].cells[12].innerHTML="",s[t].tBodies[0].rows[0].cells[13].innerHTML="",s[t].tBodies[0].rows[0].cells[14].innerHTML="",s[t].tBodies[0].rows[0].cells[15].innerHTML="",s[t].tBodies[0].rows[1].cells[0].innerHTML="",s[t].tBodies[0].rows[1].cells[1].innerHTML="",s[t].tBodies[0].rows[1].cells[2].innerHTML="",s[t].tBodies[0].rows[1].cells[3].innerHTML="",s[t].tBodies[0].rows[1].cells[4].innerHTML="",s[t].tBodies[0].rows[1].cells[5].innerHTML="",s[t].tBodies[0].rows[1].cells[6].innerHTML="",s[t].tBodies[0].rows[1].cells[7].innerHTML="",s[t].tBodies[0].rows[1].cells[8].innerHTML="",s[t].tBodies[0].rows[1].cells[9].innerHTML="",s[t].tBodies[0].rows[1].cells[10].innerHTML="",s[t].tBodies[0].rows[1].cells[11].innerHTML="",s[t].tBodies[0].rows[1].cells[12].innerHTML="",s[t].tBodies[0].rows[1].cells[13].innerHTML="",s[t].tBodies[0].rows[1].cells[14].innerHTML="",s[t].tBodies[0].rows[1].cells[15].innerHTML="",s[t].tBodies[0].rows[2].cells[0].innerHTML="",s[t].tBodies[0].rows[2].cells[1].innerHTML="",s[t].tBodies[0].rows[2].cells[2].innerHTML="",s[t].tBodies[0].rows[2].cells[3].innerHTML="",s[t].tBodies[0].rows[2].cells[4].innerHTML="",s[t].tBodies[0].rows[2].cells[5].innerHTML="",s[t].tBodies[0].rows[2].cells[6].innerHTML="",s[t].tBodies[0].rows[2].cells[7].innerHTML="",s[t].tBodies[0].rows[2].cells[8].innerHTML="",s[t].tBodies[0].rows[2].cells[9].innerHTML="",s[t].tBodies[0].rows[2].cells[10].innerHTML="",s[t].tBodies[0].rows[2].cells[11].innerHTML="",s[t].tBodies[0].rows[2].cells[12].innerHTML="",s[t].tBodies[0].rows[2].cells[13].innerHTML="",s[t].tBodies[0].rows[2].cells[14].innerHTML="",s[t].tBodies[0].rows[2].cells[15].innerHTML="",s[t].tBodies[0].rows[3].cells[0].innerHTML="",s[t].tBodies[0].rows[3].cells[1].innerHTML="",s[t].tBodies[0].rows[3].cells[2].innerHTML="",s[t].tBodies[0].rows[3].cells[3].innerHTML="",s[t].tBodies[0].rows[3].cells[4].innerHTML="",s[t].tBodies[0].rows[3].cells[5].innerHTML="",s[t].tBodies[0].rows[3].cells[6].innerHTML="",s[t].tBodies[0].rows[3].cells[7].innerHTML="",s[t].tBodies[0].rows[3].cells[8].innerHTML="",s[t].tBodies[0].rows[3].cells[9].innerHTML="",s[t].tBodies[0].rows[3].cells[10].innerHTML="",s[t].tBodies[0].rows[3].cells[11].innerHTML="",s[t].tBodies[0].rows[3].cells[12].innerHTML="",s[t].tBodies[0].rows[3].cells[13].innerHTML="",s[t].tBodies[0].rows[3].cells[14].innerHTML="",s[t].tBodies[0].rows[3].cells[15].innerHTML="",s[t].tBodies[0].rows[4].cells[0].innerHTML="",s[t].tBodies[0].rows[4].cells[1].innerHTML="",s[t].tBodies[0].rows[4].cells[2].innerHTML="",s[t].tBodies[0].rows[4].cells[3].innerHTML="",s[t].tBodies[0].rows[4].cells[4].innerHTML="",s[t].tBodies[0].rows[4].cells[5].innerHTML="",s[t].tBodies[0].rows[4].cells[6].innerHTML="",s[t].tBodies[0].rows[4].cells[7].innerHTML="",s[t].tBodies[0].rows[4].cells[8].innerHTML="",s[t].tBodies[0].rows[4].cells[9].innerHTML="",s[t].tBodies[0].rows[4].cells[10].innerHTML="",s[t].tBodies[0].rows[4].cells[11].innerHTML="",s[t].tBodies[0].rows[4].cells[12].innerHTML="",s[t].tBodies[0].rows[4].cells[13].innerHTML="",s[t].tBodies[0].rows[4].cells[14].innerHTML="",s[t].tBodies[0].rows[4].cells[15].innerHTML="",s[t].tBodies[0].rows[5].cells[0].innerHTML="",s[t].tBodies[0].rows[5].cells[1].innerHTML="",s[t].tBodies[0].rows[5].cells[2].innerHTML="",s[t].tBodies[0].rows[5].cells[3].innerHTML="",s[t].tBodies[0].rows[5].cells[4].innerHTML="",s[t].tBodies[0].rows[5].cells[5].innerHTML="",s[t].tBodies[0].rows[5].cells[6].innerHTML="",s[t].tBodies[0].rows[5].cells[7].innerHTML="",s[t].tBodies[0].rows[5].cells[8].innerHTML="",s[t].tBodies[0].rows[5].cells[9].innerHTML="",s[t].tBodies[0].rows[5].cells[10].innerHTML="",s[t].tBodies[0].rows[5].cells[11].innerHTML="",s[t].tBodies[0].rows[5].cells[12].innerHTML="",s[t].tBodies[0].rows[5].cells[13].innerHTML="",s[t].tBodies[0].rows[5].cells[14].innerHTML="",s[t].tBodies[0].rows[5].cells[15].innerHTML="";else{for(var a in e)"Square"==e[a].Slot?r=1:"Arrow"==e[a].Slot?n=1:"Diamond"==e[a].Slot?o=1:"Triangle"==e[a].Slot?i=1:"Circle"==e[a].Slot?l=1:"Cross"==e[a].Slot&&(d=1);redraw(e,t),0===r&&(s[t].tBodies[0].rows[0].cells[0].innerHTML=e[0].Equipped,s[t].tBodies[0].rows[0].cells[1].innerHTML="Square",s[t].tBodies[0].rows[0].cells[2].innerHTML="",s[t].tBodies[0].rows[0].cells[3].innerHTML="",s[t].tBodies[0].rows[0].cells[4].innerHTML="",s[t].tBodies[0].rows[0].cells[5].innerHTML="",s[t].tBodies[0].rows[0].cells[6].innerHTML="",s[t].tBodies[0].rows[0].cells[7].innerHTML="",s[t].tBodies[0].rows[0].cells[8].innerHTML="",s[t].tBodies[0].rows[0].cells[9].innerHTML="",s[t].tBodies[0].rows[0].cells[10].innerHTML="",s[t].tBodies[0].rows[0].cells[11].innerHTML="",s[t].tBodies[0].rows[0].cells[12].innerHTML="",s[t].tBodies[0].rows[0].cells[13].innerHTML="",s[t].tBodies[0].rows[0].cells[14].innerHTML="",s[t].tBodies[0].rows[0].cells[15].innerHTML=""),0===n&&(s[t].tBodies[0].rows[1].cells[0].innerHTML=e[0].Equipped,s[t].tBodies[0].rows[1].cells[1].innerHTML="Arrow",s[t].tBodies[0].rows[1].cells[2].innerHTML="",s[t].tBodies[0].rows[1].cells[3].innerHTML="",s[t].tBodies[0].rows[1].cells[4].innerHTML="",s[t].tBodies[0].rows[1].cells[5].innerHTML="",s[t].tBodies[0].rows[1].cells[6].innerHTML="",s[t].tBodies[0].rows[1].cells[7].innerHTML="",s[t].tBodies[0].rows[1].cells[8].innerHTML="",s[t].tBodies[0].rows[1].cells[9].innerHTML="",s[t].tBodies[0].rows[1].cells[10].innerHTML="",s[t].tBodies[0].rows[1].cells[11].innerHTML="",s[t].tBodies[0].rows[1].cells[12].innerHTML="",s[t].tBodies[0].rows[1].cells[13].innerHTML="",s[t].tBodies[0].rows[1].cells[14].innerHTML="",s[t].tBodies[0].rows[1].cells[15].innerHTML=""),0===o&&(s[t].tBodies[0].rows[2].cells[0].innerHTML=e[0].Equipped,s[t].tBodies[0].rows[2].cells[1].innerHTML="Diamond",s[t].tBodies[0].rows[2].cells[2].innerHTML="",s[t].tBodies[0].rows[2].cells[3].innerHTML="",s[t].tBodies[0].rows[2].cells[4].innerHTML="",s[t].tBodies[0].rows[2].cells[5].innerHTML="",s[t].tBodies[0].rows[2].cells[6].innerHTML="",s[t].tBodies[0].rows[2].cells[7].innerHTML="",s[t].tBodies[0].rows[2].cells[8].innerHTML="",s[t].tBodies[0].rows[2].cells[9].innerHTML="",s[t].tBodies[0].rows[2].cells[10].innerHTML="",s[t].tBodies[0].rows[2].cells[11].innerHTML="",s[t].tBodies[0].rows[2].cells[12].innerHTML="",s[t].tBodies[0].rows[2].cells[13].innerHTML="",s[t].tBodies[0].rows[2].cells[14].innerHTML="",s[t].tBodies[0].rows[2].cells[15].innerHTML=""),0===i&&(s[t].tBodies[0].rows[3].cells[0].innerHTML=e[0].Equipped,s[t].tBodies[0].rows[3].cells[1].innerHTML="Triangle",s[t].tBodies[0].rows[3].cells[2].innerHTML="",s[t].tBodies[0].rows[3].cells[3].innerHTML="",s[t].tBodies[0].rows[3].cells[4].innerHTML="",s[t].tBodies[0].rows[3].cells[5].innerHTML="",s[t].tBodies[0].rows[3].cells[6].innerHTML="",s[t].tBodies[0].rows[3].cells[7].innerHTML="",s[t].tBodies[0].rows[3].cells[8].innerHTML="",s[t].tBodies[0].rows[3].cells[9].innerHTML="",s[t].tBodies[0].rows[3].cells[10].innerHTML="",s[t].tBodies[0].rows[3].cells[11].innerHTML="",s[t].tBodies[0].rows[3].cells[12].innerHTML="",s[t].tBodies[0].rows[3].cells[13].innerHTML="",s[t].tBodies[0].rows[3].cells[14].innerHTML="",s[t].tBodies[0].rows[3].cells[15].innerHTML=""),0===l&&(s[t].tBodies[0].rows[4].cells[0].innerHTML=e[0].Equipped,s[t].tBodies[0].rows[4].cells[1].innerHTML="Circle",s[t].tBodies[0].rows[4].cells[2].innerHTML="",s[t].tBodies[0].rows[4].cells[3].innerHTML="",s[t].tBodies[0].rows[4].cells[4].innerHTML="",s[t].tBodies[0].rows[4].cells[5].innerHTML="",s[t].tBodies[0].rows[4].cells[6].innerHTML="",s[t].tBodies[0].rows[4].cells[7].innerHTML="",s[t].tBodies[0].rows[4].cells[8].innerHTML="",s[t].tBodies[0].rows[4].cells[9].innerHTML="",s[t].tBodies[0].rows[4].cells[10].innerHTML="",s[t].tBodies[0].rows[4].cells[11].innerHTML="",s[t].tBodies[0].rows[4].cells[12].innerHTML="",s[t].tBodies[0].rows[4].cells[13].innerHTML="",s[t].tBodies[0].rows[4].cells[14].innerHTML="",s[t].tBodies[0].rows[4].cells[15].innerHTML=""),0===d&&(s[t].tBodies[0].rows[5].cells[0].innerHTML=e[0].Equipped,s[t].tBodies[0].rows[5].cells[1].innerHTML="Cross",s[t].tBodies[0].rows[5].cells[2].innerHTML="",s[t].tBodies[0].rows[5].cells[3].innerHTML="",s[t].tBodies[0].rows[5].cells[4].innerHTML="",s[t].tBodies[0].rows[5].cells[5].innerHTML="",s[t].tBodies[0].rows[5].cells[6].innerHTML="",s[t].tBodies[0].rows[5].cells[7].innerHTML="",s[t].tBodies[0].rows[5].cells[8].innerHTML="",s[t].tBodies[0].rows[5].cells[9].innerHTML="",s[t].tBodies[0].rows[5].cells[10].innerHTML="",s[t].tBodies[0].rows[5].cells[11].innerHTML="",s[t].tBodies[0].rows[5].cells[12].innerHTML="",s[t].tBodies[0].rows[5].cells[13].innerHTML="",s[t].tBodies[0].rows[5].cells[14].innerHTML="",s[t].tBodies[0].rows[5].cells[15].innerHTML="")}},recolor=function(e,s){$("#moddata").DataTable().rows().every(function(){0==s?"1st"==this.data().Assigned&&this.data().Equipped!=e?this.data().Assigned="":this.data().Equipped==e&&(this.data().Assigned="1st"):1==s?this.data().Equipped!=e&&"2nd"==this.data().Assigned?this.data().Assigned="":this.data().Equipped==e&&(this.data().Assigned="2nd"):2==s?this.data().Equipped!=e&&"3rd"==this.data().Assigned?this.data().Assigned="":this.data().Equipped==e&&(this.data().Assigned="3rd"):3==s?this.data().Equipped!=e&&"4th"==this.data().Assigned?this.data().Assigned="":this.data().Equipped==e&&(this.data().Assigned="4th"):4==s&&(this.data().Equipped!=e&&"5th"==this.data().Assigned?this.data().Assigned="":this.data().Equipped==e&&(this.data().Assigned="5th"))})},recolorSngl=function(e,s,t){$("#moddata").DataTable().rows().every(function(){0==s?this.data().Equipped!=e&&"1st"==this.data().Assigned&&this.data().Slot==t?this.data().Assigned="":this.data().Equipped==e&&this.data().Slot==t&&(this.data().Assigned="1st"):1==s?this.data().Equipped!=e&&"2nd"==this.data().Assigned&&this.data().Slot==t?this.data().Assigned="":this.data().Equipped==e&&this.data().Slot==t&&(this.data().Assigned="2nd"):2==s?this.data().Equipped!=e&&"3rd"==this.data().Assigned&&this.data().Slot==t?this.data().Assigned="":this.data().Equipped==e&&this.data().Slot==t&&(this.data().Assigned="3rd"):3==s?this.data().Equipped!=e&&"4th"==this.data().Assigned&&this.data().Slot==t?this.data().Assigned="":this.data().Equipped==e&&this.data().Slot==t&&(this.data().Assigned="4th"):4==s&&(this.data().Equipped!=e&&"5th"==this.data().Assigned&&this.data().Slot==t?this.data().Assigned="":this.data().Equipped==e&&this.data().Slot==t&&(this.data().Assigned="5th"))})},CalcTotals=function(e){for(var t=4;t<16;t++){for(var r=0,n=0;n<6;n++)r+=Number(s[e].tBodies[0].rows[n].cells[t].textContent);t%2!=1&&14!=t||0!==r&&(r=r.toFixed(2)),s[e].tFoot.rows[0].cells[t].innerHTML=r}},$("[id^=hideShow").on("click",function(){var e=this.id.slice(-1);$("#modSet"+e+" tbody").toggle("show"),"Hide"==this.value?this.value="Show":this.value="Hide"}),
$("[id^=clrBtn").on("click",function(){var e=this.id.slice(-1);autocompRedraw("nul",e),CalcTotals(e),recolor("",e),DTRedraw(),$("#squadMembr"+e+" .assigned tbody").css("display","none"),$("[id^=hideShow"+e).attr("value","Hide")}),$(".filterUp, .lrgFilterUp, .filterDwn, .lrgFilterDwn").on("click",function(){switch($(this).attr("label")){case"Slot":var e=1;break;case"Set":e=2}if(""===$("#moddata").DataTable().columns(e).search()[0]||"lrgFilterUp"===$(this).attr("class"))$("#moddata").DataTable().columns(e).search($(this).attr("name"),1,0,1),DTRedraw();else if($(this).attr("class").includes("Up"))newVar=$("#moddata").DataTable().columns(e).search()[0]+"|"+$(this).attr("name"),$("#moddata").DataTable().columns(e).search(newVar,1,0,1),DTRedraw();else{if($(this).attr("class").includes("lrg")){var s=$(this).attr("name").split("|");newVar=$("#moddata").DataTable().columns(e).search()[0],s.forEach(e=>{newVar=newVar.replace(e,"")}),newVar=newVar.split("|").filter(e=>""!==e).join("|"),$("#moddata").DataTable().columns(e).search(newVar,1,0,1)}else newVar=$("#moddata").DataTable().columns(e).search()[0].replace($(this).attr("name"),"").split("|").filter(e=>""!==e).join("|"),$("#moddata").DataTable().columns(e).search(newVar,1,0,1);DTRedraw()}$(this).attr("class").includes("lrg")?($(this).attr("class").includes("Up")?1===e?($("[label=Slot][name!=Arr][id!=allBut]").addClass("filterDwn").removeClass("filterUp"),$("[label=Slot][name=Arr]").addClass("filterUp").removeClass("filterDwn")):2===e&&($("[label=Set][name!=Dam][name!=Off][name!=Spe][id!=2pcSets]").addClass("filterDwn").removeClass("filterUp"),$("[label=Set][name=Dam]").addClass("filterUp").removeClass("filterDwn"),$("[label=Set][name=Off]").addClass("filterUp").removeClass("filterDwn"),$("[label=Set][name=Spe]").addClass("filterUp").removeClass("filterDwn")):$(this).attr("class").includes("Dwn")&&(1===e?$("[label=Slot][name!=Arr][id!=allBut]").addClass("filterUp").removeClass("filterDwn"):2===e&&$("[label=Set][name!=Dam][name!=Off][name!=Spe][id!=2pcSets]").addClass("filterUp").removeClass("filterDwn")),$(this).toggleClass("lrgFilterUp"),$(this).toggleClass("lrgFilterDwn")):($(this).toggleClass("filterUp"),$(this).toggleClass("filterDwn"))}),$("#clrFilters").on("click",function(){$(".filterDwn").removeClass("filterDwn").addClass("filterUp"),$(".lrgFilterDwn").removeClass("lrgFilterDwn").addClass("lrgFilterUp"),$("#moddata").DataTable().columns().search("").draw()})});